---
name: creating-skills
description: 効果的なスキルを作成するための5段階プロセス。Progressive Disclosureの設計原則、フロントマターの書き方、バンドルリソースの構成。
trigger: 新しいスキルを作成・更新する時、スキル設計のベストプラクティスを参照する時
---

# スキル作成ガイド

スキルはClaudeの能力を拡張するモジュール式パッケージ。特定ドメインの手順的知識を提供し、汎用エージェントを専門エージェントに変換する。

> **元リポジトリ**: https://github.com/anthropics/skills

## スキルが提供するもの

1. **特化ワークフロー** - ドメイン固有の多段階手順
2. **ツール統合** - 特定フォーマットやAPIの操作方法
3. **ドメイン知識** - 組織固有の知識、スキーマ、ビジネスロジック
4. **バンドルリソース** - 複雑・反復タスク用のスクリプト・参考資料・アセット

## 核心原則

### 簡潔さが鍵

コンテキストウィンドウは公共財。スキルはシステムプロンプト、会話履歴、他スキルのメタデータと共有する。

**Claudeは既に賢い**。Claudeが持っていない情報だけ追加する。各情報に「このトークンコストに見合う価値があるか？」と問う。

### 自由度の設定

タスクの脆弱性と変動性に応じて具体度を調整:

- **高自由度**（テキスト指示）: 複数アプローチが有効な場合
- **中自由度**（疑似コード・パラメータ付きスクリプト）: 推奨パターンがある場合
- **低自由度**（特定スクリプト）: 操作が脆弱でエラーが起きやすい場合

## スキルの構成

```
skill-name/
├── SKILL.md（必須）
│   ├── YAMLフロントマター（必須: name, description）
│   └── Markdown本文（必須）
└── バンドルリソース（任意）
    ├── scripts/     - 実行可能コード
    ├── references/  - 必要時にロードするドキュメント
    └── assets/      - 出力で使用するファイル（テンプレート等）
```

### フロントマター

- `name`: スキル名
- `description`: **トリガーの主要メカニズム**。何をするか＋いつ使うかを含める。本文の「いつ使うか」セクションはトリガー前に読まれないため、ここに書く

### バンドルリソース

| 種別 | 用途 | 例 |
|------|------|-----|
| `scripts/` | 繰り返し書き直すコード、確定的信頼性が必要な処理 | `rotate_pdf.py` |
| `references/` | 作業中に参照するドキュメント | スキーマ、API仕様 |
| `assets/` | 出力に使用するファイル | テンプレート、画像 |

## Progressive Disclosure

3段階のローディングでコンテキストを効率管理:

1. **メタデータ**（name + description）- 常にコンテキスト内（約100語）
2. **SKILL.md本文** - トリガー時にロード（5,000語以下）
3. **バンドルリソース** - 必要時にClaude判断でロード

### 分割パターン

SKILL.md本文は**500行以下**に抑える。超過時は別ファイルに分割し、SKILL.mdから参照する。

**パターン1: 概要 + リファレンス**
```markdown
## クイックスタート
[コード例]

## 詳細
- **フォーム処理**: [FORMS.md](FORMS.md) を参照
- **APIリファレンス**: [REFERENCE.md](REFERENCE.md) を参照
```

**パターン2: ドメイン別整理**
```
skill/
├── SKILL.md（概要とナビゲーション）
└── reference/
    ├── finance.md
    ├── sales.md
    └── product.md
```

## 作成プロセス（5段階）

### Step 1: 具体例で理解

スキルの使用パターンを具体例で把握する。ユーザーに質問:
- どんな機能をサポートすべきか？
- 使用例を挙げてもらえるか？
- 何がトリガーになるべきか？

### Step 2: 再利用可能コンテンツを計画

各具体例を分析し、繰り返し必要になるリソースを特定:
- 毎回書き直すコード → `scripts/`
- 毎回再発見する知識 → `references/`
- 毎回必要なテンプレート → `assets/`

### Step 3: 初期化

新規作成の場合、`init_skill.py`でテンプレートを生成。

### Step 4: 編集・実装

- スキルは**別のClaudeインスタンスが使う**ことを意識
- Claudeにとって非自明な手順的知識を含める
- スクリプトは実際に実行してテスト
- 不要な例示ファイルは削除

### Step 5: イテレーション

実際の使用でスキルをテストし、苦戦や非効率を発見したらSKILL.mdやリソースを更新する。

## 含めないもの

- README.md、CHANGELOG.md等の補助ドキュメント
- セットアップ・テスト手順
- ユーザー向けドキュメント
- 作成過程の記録
