---
name: evaluating-risk-and-opportunity
description: 黒ハット（リスク）と黄ハット（機会）を対比させる高速評価Skill。「やるべきか/やめるべきか」を感情抜きで構造的に判断する。
trigger: 「やるべきか迷っている」「選択肢が2つ以上あり、どれも一長一短」「リスクが気になって踏み出せない」時。技術選定、設計判断、ツール導入の可否判断に使う。
---

# Evaluating Risk and Opportunity

## Purpose

「やるべきか/やめるべきか」を感情抜きで評価する。

判断が難しいのは、リスクと機会が同時に見えるからだ。黒ハット（リスク）と黄ハット（機会）を**別々に、同じ粒度で**分析し、並べて比較することで、判断の精度を上げる。

ポイントは「非対称性」と「可逆性」の2軸。リスクは小さいが機会は大きい、かつ可逆なら、迷わずGoできる。


## Context

- 技術的意思決定: 新しいライブラリを導入するか、アーキテクチャを変更するか
- 設計判断: この設計パターンを採用するか、もっとシンプルにするか
- ツール選定: MCPサーバーを入れるか、CI/CDツールを変えるか
- 投資判断: この技術を学ぶべきか、この方向に時間を使うべきか
- プロダクト判断: この機能をリリースするか、もう少し磨くか


## Pattern

### Step 1: 選択肢を明示する

最低2つ、できれば3つの選択肢を書き出す。3つ目が思いつかない場合は「現状維持」を入れる。

```
選択肢A: [具体的な行動]
選択肢B: [具体的な行動]
選択肢C: [現状維持 or 別の案]
```

**なぜ3つか:** 2択だと「AかBか」の対立構造になり、妥協案が出にくい。3つ目があると比較の軸が増え、判断の質が上がる。


### Step 2: 黒ハット分析（各選択肢）

各選択肢に対して以下の3項目を洗い出す:

| 項目 | 問い | 例 |
|------|------|-----|
| **最悪ケース** | これを選んで最悪何が起きるか？ | 移行失敗でリリースが1ヶ月遅れる |
| **ボトルネック** | 進行を阻む最大の障害は？ | チームの学習コスト、ドキュメント不足 |
| **隠れたコスト** | 見えにくいがかかるコストは？ | 既存コードの修正、テストの書き直し |

さらに重要なのが **「やらないリスク」**。選択肢Aをやらなかった場合に発生するリスクも必ず書く。

```
選択肢Aをやらない場合のリスク:
- 技術的負債が蓄積し続ける
- 競合に差をつけられる
- チームのモチベーションが下がる
```


### Step 3: 黄ハット分析（各選択肢）

各選択肢に対して以下の3項目を洗い出す:

| 項目 | 問い | 例 |
|------|------|-----|
| **最善ケース** | うまくいけば何が手に入るか？ | 開発速度が2倍になる |
| **得られる経験** | 結果に関わらず得られるものは？ | 新技術の知見、設計力の向上 |
| **開ける可能性** | この先どんな選択肢が増えるか？ | プラグインエコシステムが使える |


### Step 4: 非対称性マトリクスで比較する

黒ハットと黄ハットの結果を並べて「非対称性」を見る。

```
            | リスク（黒） | 機会（黄）  | 判定
------------|-------------|------------|------
選択肢A     | 大          | 大          | 要精査
選択肢B     | 小          | 大          | ★ Go
選択肢C     | 小          | 小          | 現状維持
```

**非対称性の読み方:**

| パターン | リスク | 機会 | 推奨アクション |
|----------|--------|------|---------------|
| **甘い案件** | 小 | 大 | 即断でGo。迷う時間がもったいない |
| **ハイリスク・ハイリターン** | 大 | 大 | Step 5の可逆性チェックへ |
| **ローリスク・ローリターン** | 小 | 小 | やってもやらなくても変わらない。他に時間を使う |
| **罠** | 大 | 小 | 撤退。どんなに魅力的に見えても |


### Step 5: 可逆性チェック

判断を下す前に「失敗しても戻れるか？」を確認する。

```
可逆性チェックリスト:
□ 元に戻すのにかかるコストは？（時間・金・労力）
□ 段階的に進められるか？（全面導入 vs 試験導入）
□ 撤退ラインは明確か？（何が起きたらやめるか）
□ 撤退した場合、得られるものはあるか？（学び、データ）
```

**判断マトリクス:**

| | 可逆 | 不可逆 |
|---|---|---|
| **リスク小・機会大** | 即Go | 慎重にGo（段階的に） |
| **リスク大・機会大** | 試験的にGo | 追加情報を集めてから判断 |
| **リスク大・機会小** | やらない | 絶対やらない |


## Rules

1. **リスクと機会は必ず同数出す。** 黒ハットで3つ出したら、黄ハットでも3つ出す。偏りを防ぐ
2. **「やらないリスク」も必ず分析する。** 現状維持にもリスクがある。技術的負債の蓄積、市場の変化、チームの停滞
3. **可逆な判断は速く、不可逆な判断は慎重に。** Jeff Bezosの「Type 1 / Type 2 Decision」と同じ考え方。可逆な判断に時間をかけるのは機会損失
4. **感情は赤ハットに任せる。** このSkillでは感情を排除する。「なんとなく不安」は `thinking-with-six-hats.md` の赤ハットで扱う
5. **数字で語れるものは数字で語る。** 「コストが高い」ではなく「移行に推定40時間かかる」


## Anti-Patterns

### 黒ハット独裁
- **症状:** リスクを10個列挙し、機会は2個しか出さない。結果、何をやっても「リスクが高い」という結論になる
- **原因:** 人間の損失回避バイアス。失うものは得るものの2倍強く感じる（Kahneman & Tversky）
- **対策:** ルール1を厳守。リスクと機会を必ず同数出す。機会が出ないなら、視点を変える（「5年後の自分にとっての価値は？」）

### 黄ハット暴走
- **症状:** 機会ばかり見て「とりあえずやってみよう」。不可逆な判断でも楽観的に突き進む
- **原因:** 新しいもの好き、行動バイアス。「動いている方が正しい」という錯覚
- **対策:** Step 5の可逆性チェックを飛ばさない。不可逆なら、楽観的な見積もりを1.5倍に補正する

### 現状維持バイアス
- **症状:** 「やらないリスク」を分析しない。選択肢に「何もしない」を入れるが、そのリスクは見ない
- **原因:** 現状を変えないことの心理的コストがゼロに感じられる。実際にはゼロではない
- **対策:** 「やらないリスク」を黒ハットの最初の項目にする。「1年後、この判断を先送りしたことを後悔するか？」


## Examples

### 例1: 新しいMCPサーバーを導入するか

**選択肢:**
- A: MCPサーバーを導入し、既存のAPI呼び出しを置き換える
- B: 既存のREST APIラッパーを改善する
- C: 現状維持（手動で対応し続ける）

**黒ハット分析:**

| | A: MCP導入 | B: APIラッパー改善 | C: 現状維持 |
|---|---|---|---|
| 最悪ケース | MCP仕様変更で全書き直し | 改善しても根本解決にならない | 手動作業が増え続け破綻 |
| ボトルネック | MCP学習コスト（推定20時間） | 既存コードの複雑さ | 人間の時間と注意力 |
| 隠れたコスト | デバッグ手段が限られる | テスト環境の整備が必要 | エラー頻度の増加 |

**「やらないリスク」（A）:** MCPエコシステムに乗り遅れ、将来的にツール統合の選択肢が狭まる。

**黄ハット分析:**

| | A: MCP導入 | B: APIラッパー改善 | C: 現状維持 |
|---|---|---|---|
| 最善ケース | ツール連携が劇的に改善 | 安定した改善が得られる | 何もしなくてよい（短期） |
| 得られる経験 | MCP設計パターンの知見 | リファクタリング力向上 | なし |
| 開ける可能性 | 他MCPツールとの連携 | 他APIとの統合基盤 | なし |

**非対称性:**
- A: リスク中・機会大 → 可逆性チェックへ
- B: リスク小・機会中 → 堅実だが面白みがない
- C: リスク中（長期）・機会なし → 先送りの罠

**可逆性チェック（A）:**
- 元に戻せるか → はい。REST APIラッパーは残っている。切り戻しに推定8時間
- 段階的にできるか → はい。1つのAPI呼び出しだけMCP化して試験可能
- 撤退ラインは → 2週間の試験導入で安定性が80%以下なら撤退

**結論:** Aを段階的に導入。まず1エンドポイントだけMCP化し、2週間試す。


### 例2: モノリスをマイクロサービスに分割するか

**選択肢:**
- A: フルマイクロサービス化（6ヶ月計画）
- B: モジュラーモノリス化（境界を整理するが分割はしない）
- C: 現状維持

**黒ハット分析:**

| | A: マイクロサービス | B: モジュラーモノリス | C: 現状維持 |
|---|---|---|---|
| 最悪ケース | 6ヶ月で完了せず、中途半端な分散システムに | 境界の引き方を間違え、後でやり直し | 開発速度が年々低下 |
| ボトルネック | インフラ・運用の複雑さが急増 | 設計力が問われる（正しい境界の発見） | なし（だが問題は悪化） |
| 隠れたコスト | サービス間通信、分散トレーシング、デプロイパイプライン | 既存コードのリファクタコスト | 新メンバーのオンボーディング時間増加 |

**「やらないリスク」（A/B共通）:** チームが拡大した時にコードベースが手に負えなくなる。

**黄ハット分析:**

| | A: マイクロサービス | B: モジュラーモノリス | C: 現状維持 |
|---|---|---|---|
| 最善ケース | チーム独立デプロイ、スケーラビリティ確保 | 境界が明確になり、将来の分割が容易に | 短期的に何もしなくてよい |
| 得られる経験 | 分散システム設計力 | ドメインモデリング力 | なし |
| 開ける可能性 | チーム並行開発、技術スタック多様化 | 必要な時にサービス切り出し可能 | なし |

**非対称性:**
- A: リスク大・機会大 → 可逆性チェック必須
- B: リスク小・機会中 → 堅実な中間案
- C: リスク中（長期）・機会なし

**可逆性チェック（A）:**
- 元に戻せるか → 極めて困難。分散システムをモノリスに戻すのは現実的でない → **不可逆**
- 段階的にできるか → 部分的には可能だが、中途半端な分割は最悪の状態

**結論:** B（モジュラーモノリス）を採用。まず境界を整理し、将来マイクロサービスが本当に必要になった時に切り出す。Aは不可逆かつリスク大なので、現時点では見送り。


## AI Prompt Template

```
以下の判断について、リスクと機会の対比分析をしてください。

## 判断内容
[ここに判断すべき内容を1-2文で記述]

## 選択肢
- A: [選択肢A]
- B: [選択肢B]
- C: [選択肢C / 現状維持]

## 実行手順
1. 各選択肢に対して黒ハット分析（最悪ケース、ボトルネック、隠れたコスト）
2. 「やらないリスク」を各選択肢について分析
3. 各選択肢に対して黄ハット分析（最善ケース、得られる経験、開ける可能性）
4. 非対称性マトリクスを作成し、リスクと機会のバランスを可視化
5. 有望な選択肢に対して可逆性チェック（元に戻せるか、段階的にできるか、撤退ラインは）
6. 結論と推奨アクションを提示

リスクと機会は必ず同数出してください。感情ではなく事実ベースで分析してください。
```


## Notes

- このSkillは `thinking-with-six-hats.md` の黒ハットと黄ハットを深掘りしたもの。フル分析が必要な場合は6色ハットを、高速判断が必要な場合はこのSkillを使う
- 「可逆性」は技術判断で特に重要。データベーススキーマの変更、公開APIの仕様変更、フレームワークの移行は不可逆に近い。設定変更、ライブラリの追加、ブランチでの実験は可逆
- Jeff Bezosの「Type 1 / Type 2 Decision」: Type 1（不可逆）= 70%の情報で慎重に判断。Type 2（可逆）= 素早く判断し、間違えたら戻す
- 代替案が足りないと感じたら `generating-alternatives.md` を参照して選択肢を増やしてから、このSkillに戻る
