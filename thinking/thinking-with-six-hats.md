---
name: thinking-with-six-hats
description: 6色ハット思考のフルフレームワーク。感情・事実・リスク・機会・代替案・統合を混線させずに順番に処理し、意思決定の質を上げる。
trigger: 重要な意思決定・技術選定・方針決定で「いろんな角度から考えたい」と感じた時。判断が感情に引っ張られている、またはデータだけで決めようとしている時。
---

# Thinking with Six Hats

## Purpose

意思決定において、感情・事実・リスク・機会・代替案・統合の6視点を**混線させずに順番に処理する**。

人間もAIも、複数の視点を同時に考えようとすると混線する。「リスクを考えながらアイデアも出す」は、結果としてどちらも中途半端になる。6色ハットは「今はこの視点だけで考える」という制約を課すことで、各視点の深さを確保する。

Edward de Bonoが提唱したSix Thinking Hatsを、AIエージェント時代の設計判断・技術選定に適用可能な形で再構成したもの。


## Context

- 技術選定（フレームワーク、ライブラリ、アーキテクチャ）
- プロダクト方針の決定（機能追加 vs リファクタ、リリース判断）
- チーム運営の判断（採用、プロセス変更）
- キャリア判断（転職、スキル投資の方向性）
- 要するに「正解がなく、複数の視点から検討が必要な判断」全般


## Pattern

### 6つのハットの定義

| 色 | 役割 | 一言 | 問うこと |
|----|------|------|----------|
| **青** | メタ/進行 | 「今何を考えるべきか」 | プロセスの管理。議題設定と結論の統合 |
| **白** | 事実/データ | 「何がわかっているか」 | 客観的事実、数字、既知情報、情報の欠落 |
| **赤** | 感情/直感 | 「直感的にどう感じるか」 | 好き嫌い、不安、ワクワク、違和感 |
| **黒** | リスク/弱点 | 「何がまずいか」 | 問題点、失敗シナリオ、隠れたコスト |
| **黄** | メリット/価値 | 「何が良いか」 | 利点、成功シナリオ、得られる経験 |
| **緑** | アイデア/代替 | 「他にどんな方法があるか」 | 新しい案、組み合わせ、前提の転換 |

### 推奨実行順序

```
青(開始) → 白 → 赤 → 黒 → 黄 → 緑 → 青(結論)
```

**なぜこの順序か:**

1. **青(開始)**: まず「何について決めるのか」を明確にする。ここが曖昧だと全てがブレる
2. **白**: 事実を揃える。感情やリスクの前に「何がわかっていて何がわかっていないか」を確認
3. **赤**: 直感を言語化する。データの後に置くことで「なんとなく嫌」の裏にある懸念を拾える
4. **黒**: リスクを洗い出す。事実と直感が揃った状態で分析すると精度が上がる
5. **黄**: メリットを確認する。黒の後に置くことで「それでもやる価値があるか」を判断できる
6. **緑**: 代替案を出す。リスクとメリットが見えた後なら「いいとこ取り」の案が出やすい
7. **青(結論)**: 全視点を統合して結論を出す

### 各ハットで問うべき質問リスト

#### 青ハット（開始）
- 今回の判断は何か？1文で言えるか？
- この判断の期限はいつか？
- 判断基準は何か？（コスト、速度、品質、学習効果...）
- 誰がこの判断の影響を受けるか？

#### 白ハット
- 確定している事実は何か？（ベンチマーク、実績、ドキュメント）
- 不確定な情報は何か？（推測、伝聞、未検証の仮説）
- 足りていない情報は何か？調べれば手に入るか？
- 数字で表せるものはあるか？（コスト、時間、ユーザー数）

#### 赤ハット
- 最初に聞いた時、直感的にどう感じたか？
- この判断に対して不安はあるか？ワクワクはあるか？
- チームメンバーはどう感じているか？
- 「理屈はわかるが何か引っかかる」ポイントはないか？

#### 黒ハット
- 最悪のケースは何か？そうなる確率は？
- 隠れたコストは何か？（学習コスト、移行コスト、運用コスト）
- 失敗した場合、どこまで戻れるか？
- この選択で失うものは何か？

#### 黄ハット
- 最善のケースは何か？そうなる確率は？
- この選択で得られる経験・スキルは何か？
- 将来の選択肢を広げるか？狭めるか？
- 成功したら次に何ができるようになるか？

#### 緑ハット
- まだ検討していない選択肢はないか？
- 2つの案を組み合わせられないか？
- 前提を1つ外したらどうなるか？
- 「そもそもこの問題を解く必要があるか？」

#### 青ハット（結論）
- 各ハットの結論を並べた時、最も重視すべきはどれか？
- 全員が納得できる落とし所はあるか？
- 次のアクションは何か？誰がいつまでにやるか？
- この判断をいつ振り返るか？


## Rules

1. **1度に1色だけ。混線禁止。** 黒ハットの最中に「でもメリットもあって...」と言い始めたら、それは黄ハットに回す
2. **青ハットが流れをコントロールする。** 議論が脱線したら青ハットに戻る
3. **各ハットは最低1つの具体的アウトプットを出す。** 「特にありません」は禁止。無理にでも1つは出す
4. **全ハットが発言してから結論を出す。** 赤ハットや緑ハットを飛ばさない
5. **白ハットでは意見を言わない。** 事実と意見を分離する。「Reactは良い」は意見。「Reactのnpm週間DL数は2000万」は事実


## Anti-Patterns

### 黒ハット独裁
- **症状:** リスクばかり列挙して、どの選択肢も「やめておこう」になる
- **原因:** 安全志向が強すぎる。失敗を恐れるあまり、何も選べない
- **対策:** 黒ハットの後に必ず黄ハットを回す。「リスクがあるのは前提。それでもやる価値は？」

### 赤ハット無視
- **症状:** データと論理だけで決めて、チームの不安やモチベーションを無視する
- **原因:** 「感情は非合理的」という思い込み。だが直感は経験の圧縮であり、重要な情報源
- **対策:** 赤ハットを飛ばさない。「理屈は通るが何か引っかかる」を言語化する時間を確保

### 緑ハット不在
- **症状:** AかBかの二択で議論が平行線。第3案が出てこない
- **原因:** 発散思考のフェーズを設けていない。既存の選択肢の中でしか考えていない
- **対策:** 緑ハットで「まだ考えていない案は？」を明示的に問う。詳細は `generating-alternatives.md` 参照


## Examples

### 例1: 技術選定 — 新しいCSSフレームワークを採用するか

**青ハット（開始）:**
判断内容 = 「既存プロジェクトのCSS-in-JSをTailwind CSSに移行するか」。期限は来月のスプリント計画まで。判断基準はDX（開発速度）、パフォーマンス、学習コスト。

**白ハット:**
- 現在のCSS-in-JSはstyled-components v5。ビルドサイズ12KB gzip
- Tailwind CSSはv3.4、purge後のサイズは平均8KB gzip
- チーム5人中Tailwind経験者は1人
- 既存コンポーネント数は約120個
- styled-componentsのメンテナンスは継続中（最終リリースは3ヶ月前）

**赤ハット:**
- 正直、styled-componentsに飽きている。新しいことをやりたい気持ちがある（注意: これはバイアスになりうる）
- 120コンポーネントの移行作業を想像すると気が重い
- Tailwindのユーティリティクラスの長さに対する抵抗感がある

**黒ハット:**
- 120コンポーネントの移行に推定2-3スプリント必要。その間の機能開発が止まる
- チーム4人がTailwind未経験。学習期間中は生産性が落ちる
- styled-componentsの動的スタイルをTailwindで再現するのに工夫が要るケースがある
- 移行中に両方のシステムが混在し、コードの一貫性が崩れる

**黄ハット:**
- ビルドサイズが約30%削減。ランタイムCSSゼロでパフォーマンス向上
- デザインシステムのトークンをTailwindのconfigに集約できる
- 採用市場でTailwind経験者は増加傾向。人材確保に有利
- 一度移行すれば、新規コンポーネントの実装速度は上がる見込み

**緑ハット:**
- 全面移行ではなく、新規コンポーネントだけTailwindにする（段階的移行）
- styled-componentsの上にTailwindのユーティリティを薄くラップする中間レイヤー案
- そもそもCSS Modulesという第3案は？ゼロランタイムかつ学習コスト低い

**青ハット（結論）:**
段階的移行を採用。新規コンポーネントはTailwind、既存はstyled-componentsのまま。3ヶ月後に効果を振り返り、全面移行を再判断する。


### 例2: プロダクト方針 — 新機能追加 vs 技術的負債の返済

**青ハット（開始）:**
判断内容 = 「次の四半期、ダッシュボード機能の追加に集中するか、バックエンドのリファクタリングに時間を使うか」。判断基準はユーザー価値、開発速度への影響、リスク。

**白ハット:**
- 現在のAPI応答時間は平均800ms（目標は200ms以下）
- ダッシュボード機能は顧客要望のトップ3に入っている
- バックエンドの技術的負債により、新機能追加に通常の1.5倍の時間がかかっている
- 競合Bが先月ダッシュボード機能をリリースした
- 現在のチャーン率は月3%

**赤ハット:**
- 競合に先を越された焦りがある
- リファクタを後回しにし続けている罪悪感がある
- 「どうせリファクタは後回しにされる」という諦めをチームから感じる

**黒ハット:**
- ダッシュボードを急いで作ると、負債の上に負債を重ねる。1.5倍どころか2倍になるリスク
- リファクタに四半期使うと、競合との差がさらに開く
- リファクタの見積もりは往々にして楽観的。四半期で終わらない可能性
- ダッシュボードがなくてもチャーン率3%が急に悪化するデータはない

**黄ハット:**
- ダッシュボードをリリースすればアップセルの材料になる。売上への直接的インパクト
- リファクタが完了すれば、その後の全機能の開発速度が1.5倍→1.0倍に戻る
- リファクタ中にテストカバレッジを上げれば、障害発生率も下がる

**緑ハット:**
- 四半期を半分に分ける（前半リファクタ、後半ダッシュボード）
- ダッシュボードのMVP版を最小構成で作り（2週間）、残りをリファクタに充てる
- リファクタ対象を「ダッシュボード機能に必要な部分だけ」に絞る（目的駆動リファクタ）

**青ハット（結論）:**
目的駆動リファクタを採用。ダッシュボードに必要なAPIエンドポイント周辺だけをリファクタし、その上にダッシュボードMVPを構築。四半期末にリファクタ範囲を再評価。


## AI Prompt Template

AIエージェントにこのフレームワークで分析させる際のテンプレート:

```
以下の判断について、6色ハット思考で分析してください。

## 判断内容
[ここに判断すべき内容を1-2文で記述]

## 背景情報
[関連する事実、制約、ステークホルダーなどを記述]

## 実行手順
1. 青ハット（開始）: 判断の枠組みを定義
2. 白ハット: 事実とデータだけを列挙（意見禁止）
3. 赤ハット: 直感・感情・違和感を言語化
4. 黒ハット: リスク・問題点・最悪ケースを洗い出し
5. 黄ハット: メリット・成功シナリオ・得られる価値を列挙
6. 緑ハット: まだ検討していない代替案を最低2つ提案
7. 青ハット（結論）: 全視点を統合し、推奨アクションと振り返り時期を提示

各ハットは見出しで区切り、混線させないでください。
```


## Notes

- 6色ハットは「会議のファシリテーション手法」として紹介されることが多いが、1人の意思決定にも有効。AIエージェントと1対1で使う場合は、AIに「今は○○ハットで考えて」と指示することで、視点の切り替えを強制できる
- 全てのハットを毎回フルで回す必要はない。軽い判断なら白→黒→黄→結論でも十分。重要なのは「今どの視点で考えているか」を意識すること
- 黒ハットと黄ハットの対比を深めたい場合は `evaluating-risk-and-opportunity.md` を参照
- 緑ハットで代替案をもっと出したい場合は `generating-alternatives.md` を参照
